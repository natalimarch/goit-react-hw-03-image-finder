{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","logo.svg","components/Api/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/SearchImages/SearchImages.jsx","App.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","params","key","getImages","a","query","image_type","orientation","page","per_page","get","q","Searchbar","state","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","console","log","handleChange","searchInput","currentTarget","value","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","pageUrl","largeUrl","tags","Item","src","alt","Image","ImageGallery","list","imgList","map","item","previewURL","largeImageURL","id","List","Button","Btn","SearchImages","loading","error","searchFormSubmit","loadMore","fetchImages","data","hits","prevState","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b812d5e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Image\":\"ImageGalleryItem_Image__3YXvD\",\"Item\":\"ImageGalleryItem_Item__WGOL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"ImageGallery_List__138t9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__3Jv1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__2QH50\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://pixabay.com/\",\n  params: {\n    key: \"23365989-0313fa8d36a360eb60645d2f6\"\n  }\n});\n\nconst createParams = (params) => {\n  return {\n    params,\n  };\n};\n\nexport const getAllImages = async () => {\n  return instance.get(\"/api/\");\n};\nexport const getImages = async (\n  {query = \"\",\n  image_type = \"photo\",\n  orientation = \"horizontal\",\n  page = 1,\n  per_page = 12}\n) => {\n  return instance.get(\n    \"/api/\",\n    createParams({ q: query, image_type, orientation, per_page, page })\n  );\n};\n","import { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      console.log(\"Пусто\");\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({\n      query: \"\",\n    });\n  };\n\n  handleChange = (e) => {\n    const searchInput = e.currentTarget.value;\n    this.setState({\n      query: searchInput,\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const { handleSubmit, handleChange } = this;\n    return (\n      <>\n        <header className={styles.Searchbar}>\n          <form onSubmit={handleSubmit} className={styles.SearchForm}>\n            <button type=\"submit\" className={styles.SearchFormButton}>\n              <span className={styles.SearchFormButtonLabel}></span>\n            </button>\n\n            <input\n              className={styles.SearchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={query}\n              onChange={handleChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import react from \"react\";\nimport styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ pageUrl, largeUrl, tags }) => {\n  return (\n    <li className={styles.Item}>\n      <img\n        src={pageUrl}\n        data-url={largeUrl}\n        alt={tags}\n        className={styles.Image}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"../ImageGallery/ImageGallery.module.css\";\n\nconst ImageGallery = ({ list }) => {\n  console.log(list);\n  const imgList = list.map((item) => {\n    return (\n      <ImageGalleryItem\n        key={item.id}\n        pageUrl={item.previewURL}\n        largeUrl={item.largeImageURL}\n        tags={item.tags}\n      />\n    );\n  });\n  return <ul className={styles.List}>{imgList}</ul>;\n};\n\nexport default ImageGallery;\n","import styles from \"../Button/Button.module.css\";\n\nconst Button = () => {\n  return (\n    <button type=\"button\" className={styles.Btn}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import { Component } from \"react\";\n\nimport { getImages } from \"../Api/api\";\n\nimport styles from \"./SearchImages.module.css\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n\nclass SearchImages extends Component {\n  state = {\n    list: [],\n    page: 1,\n    loading: false,\n    error: null,\n    query: \"\",\n  };\n\n  searchFormSubmit = (query) => {\n    this.setState({\n      query,\n    });\n  };\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    this.fetchImages();\n  }\n\n  async fetchImages() {\n    const { page, query } = this.state;\n    try {\n      const { data } = await getImages({ page, query });\n      console.log(data);\n      this.setState({\n        list: data.hits,\n        error: null,\n        loading: false,\n        page: page + 1,\n      });\n    } catch (error) {\n      this.setState({ error, loading: false });\n    }\n  }\n\n  async componentDidUpdate() {\n    const { loading, page } = this.state;\n    if (loading && page > 1) {\n      try {\n        const { data } = await getImages(page, 3);\n        this.setState((prevState) => {\n          return {\n            list: [...prevState.list, ...data],\n            error: null,\n            loading: false,\n            page: page + 1,\n          };\n        });\n      } catch (error) {\n        this.setState({ error, loading: false });\n      }\n    }\n  }\n\n  loadMore = () => {\n    this.setState({ loading: true });\n  };\n\n  render() {\n    const { list } = this.state;\n    const { searchFormSubmit } = this;\n    return (\n      <>\n        <Searchbar onSubmit={searchFormSubmit} />\n        <ImageGallery list={list} />\n        <Button />\n      </>\n    );\n  }\n}\n\nexport default SearchImages;\n","import logo from './logo.svg';\nimport './App.css';\nimport SearchImages from './components/SearchImages/SearchImages';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchImages />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}