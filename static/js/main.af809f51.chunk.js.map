{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","logo.svg","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Api/api.js","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/SearchImages/SearchImages.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","console","log","handleChange","searchInput","currentTarget","value","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","pageUrl","largeUrl","tags","onPictureOpen","Item","onClick","src","alt","Image","ImageGallery","list","imgList","map","item","webformatURL","largeImageURL","id","List","Button","Btn","BASE_URL","API_KEY","fetchImages","queryPicture","page","axios","get","then","res","data","Loader","Load","color","height","width","timeout","React","modal","document","querySelector","Modal","onEsc","code","onClose","onBackdrop","target","window","addEventListener","removeEventListener","createPortal","Overlay","SearchImages","loading","error","total","showModal","searchFormSubmit","makeGallery","isLoading","hits","prevState","scroll","alert","catch","message","finally","scrollTo","top","documentElement","scrollHeight","behavior","showBtnLoadMore","Math","ceil","changeModal","prev","prevProps","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af809f51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Image\":\"ImageGalleryItem_Image__3YXvD\",\"Item\":\"ImageGalleryItem_Item__WGOL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"ImageGallery_List__138t9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__3Jv1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Load\":\"Loader_Load__3dI7_\"};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      console.log(\"Пусто\");\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({\n      query: \"\",\n    });\n  };\n\n  handleChange = (e) => {\n    const searchInput = e.currentTarget.value;\n    this.setState({\n      query: searchInput,\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const { handleSubmit, handleChange } = this;\n    return (\n      <>\n        <header className={styles.Searchbar}>\n          <form onSubmit={handleSubmit} className={styles.SearchForm}>\n            <button type=\"submit\" className={styles.SearchFormButton}>\n              <span className={styles.SearchFormButtonLabel}></span>\n            </button>\n\n            <input\n              className={styles.SearchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={query}\n              onChange={handleChange}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import react from \"react\";\nimport styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ pageUrl, largeUrl, tags, onPictureOpen }) => {\n  return (\n    <li\n      className={styles.Item}\n      onClick={() => {\n        onPictureOpen(largeUrl);\n      }}\n    >\n      <img src={pageUrl} alt={tags} className={styles.Image} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  pageUrl: PropTypes.string.isRequired,\n  largeUrl: PropTypes.string.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"../ImageGallery/ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ list, onPictureOpen }) => {\n  const imgList = list.map((item) => {\n    return (\n      <>\n        <ImageGalleryItem\n          key={item.id}\n          pageUrl={item.webformatURL}\n          largeUrl={item.largeImageURL}\n          tags={item.tags}\n          onPictureOpen={onPictureOpen}\n        />\n      </>\n    );\n  });\n\n  return <ul className={styles.List}>{imgList}</ul>;\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  list: PropTypes.array.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n};\n","import styles from \"../Button/Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className={styles.Btn}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","\nimport axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23365989-0313fa8d36a360eb60645d2f6\";\n\nexport const fetchImages = (queryPicture, page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${queryPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data);\n};\n\n\n\n\n\n\n// import axios from \"axios\";\n\n// const instance = axios.create({\n//   baseURL: \"https://pixabay.com/\",\n//   params: {\n//     key: \"23365989-0313fa8d36a360eb60645d2f6\"\n//   }\n// });\n\n// const createParams = (params) => {\n//   return {\n//     params,\n//   };\n// };\n\n// export const getAllImages = async () => {\n//   return instance.get(\"/api/\");\n// };\n// export const getImages = async (\n//   {query,\n//   image_type = \"photo\",\n//   orientation = \"horizontal\",\n//   page = 1,\n//   per_page = 12}\n// ) => {\n//   return instance.get(\n//     \"/api/\",\n//     createParams({ q: query, image_type, orientation, per_page, page })\n//   );\n// };","import React from \"react\";\nimport LoaderSpin from \"react-loader-spinner\";\nimport styles from \"../Loader/Loader.module.css\";\nclass Loader extends React.Component {\n  render() {\n    return (\n      <LoaderSpin\n        className={styles.Load}\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    );\n  }\n}\n\nexport default Loader;\n","import styles from \"../Modal/Modal.module.css\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modal = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.onBackdrop}>\n        <div className={styles.Modal}>\n          <img src={this.props.largeUrl} alt={this.props.tags} />\n        </div>\n      </div>,\n      modal\n    );\n  }\n}\n\nModal.propTypes = {\n  largeUrl: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { Component } from \"react\";\n\nimport styles from \"./SearchImages.module.css\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport { fetchImages } from \"../Api/api\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nclass SearchImages extends Component {\n  state = {\n    list: [],\n    page: 1,\n    loading: false,\n    error: null,\n    query: \"\",\n    total: 0,\n    largeImageURL: {},\n    showModal: false,\n  };\n\n  searchFormSubmit = (query) => {\n    this.setState({\n      query,\n      loading: true,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({\n        list: [],\n      });\n      this.makeGallery();\n      return;\n    }\n  }\n\n  makeGallery = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n\n    fetchImages(query, page)\n      .then(({ hits, total }) => {\n        this.setState((prevState) => ({\n          list: [...prevState.list, ...hits],\n          page: prevState.page + 1,\n          total,\n          isLoading: false,\n        }));\n        if (page !== 1) {\n          this.scroll();\n        }\n\n        console.log(\"state\", this.state.list);\n        if (total === 0) {\n          alert(\"There are no pictures\");\n        }\n      })\n      .catch((error) => alert(error.message))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  showBtnLoadMore = () => {\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\n  };\n\n  onPictureOpen = (largeUrl) => {\n    this.setState({ largeImageURL: largeUrl });\n  };\n\n  changeModal = () => {\n    this.setState((prev) => ({\n      showModal: !prev.showModal,\n    }));\n  };\n\n  render() {\n    const { list, total, isLoading, showModal, largeImageURL } = this.state;\n    const { searchFormSubmit, makeGallery, onPictureOpen, changeModal } = this;\n    return (\n      <>\n        <Searchbar onSubmit={searchFormSubmit} />\n        {list.length !== 0 && (\n          <ImageGallery list={list} onPictureOpen={onPictureOpen} />\n        )}\n        {isLoading && <Loader />}\n        {showModal && <Modal onClose={changeModal} largeUrl={largeImageURL} />}\n        {this.showBtnLoadMore() && total !== 0 && (\n          <Button onClick={makeGallery} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default SearchImages;\n\n// async componentDidMount() {\n//   this.setState({ loading: true });\n//   this.fetchImages();\n// }\n\n// async fetchImages() {\n//   const { page, query, list } = this.state;\n//   try {\n//     const { data } = await getImages({ page, query });\n//     console.log(data.hits);\n//     this.setState((prevState) => ({\n//       list: [...list, ...data.hits],\n//       error: null,\n//       loading: false,\n//       page: prevState.page + 1,\n//       total: data.total,\n//     }));\n//   } catch (error) {\n//     this.setState({ error, loading: false });\n//   }\n// }\n\n// async componentDidUpdate() {\n//   const { loading, page } = this.state;\n\n//   if (loading && page > 1) {\n//     this.fetchImages();\n//   }\n// }\n","import logo from './logo.svg';\nimport './App.css';\nimport SearchImages from './components/SearchImages/SearchImages';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchImages />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__2QH50\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}