{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/SearchImages/SearchImages.module.css","components/Searchbar/fields.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","Api/api.js","components/SearchImages/SearchImages.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fields","type","autoComplete","autoFocus","placeholder","name","required","Searchbar","state","query","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","handleChange","target","value","checked","newValue","this","className","styles","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","Component","ImageGalleryItem","pageUrl","largeUrl","tags","onPictureOpen","Item","onClick","src","alt","Image","ImageGallery","list","imgList","map","item","webformatURL","largeImageURL","id","List","defaultProps","Button","Btn","Loader","Load","color","height","width","timeout","modal","document","querySelector","Modal","onEsc","code","onClose","onBackdrop","currentTarget","window","addEventListener","removeEventListener","children","createPortal","Overlay","BASE_URL","API_KEY","fetchImages","queryPicture","page","axios","get","then","res","data","SearchImages","loading","error","total","showModal","searchFormSubmit","makeGallery","a","hits","isLoading","scroll","scrollTo","top","documentElement","scrollHeight","behavior","showBtnLoadMore","Math","ceil","changeModal","_","prevState","Message","Boolean","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e9dcf34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Image\":\"ImageGalleryItem_Image__3YXvD\",\"Item\":\"ImageGalleryItem_Item__WGOL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"ImageGallery_List__138t9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__3Jv1l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Load\":\"Loader_Load__3dI7_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"SearchImages_Message__1tRFk\"};","\nexport const fields = {\n    query: {\n        type: \"text\",\n        autoComplete: \"off\",\n        autoFocus: true,\n        placeholder: \"Search images and photos\",\n        name: \"query\",\n        required: true\n    }\n}\n","import { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\nimport { fields } from \"./fields\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({\n      query: \"\",\n    });\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value, type, checked } = target;\n    const newValue = type === \"checkbox\" || type === \"radio\" ? checked : value;\n    this.setState({\n      [name]: newValue,\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const { handleSubmit, handleChange } = this;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}></span>\n          </button>\n\n          <input\n            {...fields.query}\n            className={styles.SearchFormInput}\n            value={query}\n            onChange={handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import styles from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ pageUrl, largeUrl, tags, onPictureOpen }) => {\n  return (\n    <li\n      className={styles.Item}\n      onClick={() => {\n        onPictureOpen(largeUrl);\n      }}\n    >\n      <img src={pageUrl} alt={tags} className={styles.Image} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  pageUrl: PropTypes.string.isRequired,\n  largeUrl: PropTypes.string.isRequired,\n  onPictureOpen: PropTypes.func.isRequired,\n  tags: PropTypes.string,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"../ImageGallery/ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ list, onPictureOpen }) => {\n  const imgList = list.map((item) => {\n    return (\n      <>\n        <ImageGalleryItem\n          key={item.id}\n          pageUrl={item.webformatURL}\n          largeUrl={item.largeImageURL}\n          tags={item.tags}\n          onPictureOpen={onPictureOpen}\n        />\n      </>\n    );\n  });\n\n  return <ul className={styles.List}>{imgList}</ul>;\n};\n\nexport default ImageGallery;\n\nImageGallery.defaultProps = {\n  onPictureOpen: () => {},\n};\n\nImageGallery.propTypes = {\n  list: PropTypes.array.isRequired,\n  onPictureOpen: PropTypes.func,\n};\n","import styles from \"../Button/Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className={styles.Btn}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport LoaderSpin from \"react-loader-spinner\";\n\nimport styles from \"../Loader/Loader.module.css\";\n\nconst Loader = () => {\n  return (\n    <LoaderSpin\n      className={styles.Load}\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n};\n// class Loader extends React.Component {\n//   render() {\n\n//   }\n// }\n\nexport default Loader;\n","import styles from \"../Modal/Modal.module.css\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modal = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEsc);\n  }\n\n  onEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.onBackdrop}>\n        <div className={styles.Modal}>{children}</div>\n      </div>,\n      modal\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","\nimport axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23365989-0313fa8d36a360eb60645d2f6\";\n\nexport const fetchImages = (queryPicture, page = 1) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${queryPicture}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data);\n};\n\n\n\n\n\n\n// import axios from \"axios\";\n\n// const instance = axios.create({\n//   baseURL: \"https://pixabay.com/\",\n//   params: {\n//     key: \"23365989-0313fa8d36a360eb60645d2f6\"\n//   }\n// });\n\n// const createParams = (params) => {\n//   return {\n//     params,\n//   };\n// };\n\n// export const getAllImages = async () => {\n//   return instance.get(\"/api/\");\n// };\n// export const getImages = async (\n//   {query,\n//   image_type = \"photo\",\n//   orientation = \"horizontal\",\n//   page = 1,\n//   per_page = 12}\n// ) => {\n//   return instance.get(\n//     \"/api/\",\n//     createParams({ q: query, image_type, orientation, per_page, page })\n//   );\n// };","import { Component } from \"react\";\n\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nimport { fetchImages } from \"../../Api/api\";\n\nimport styles from \"../SearchImages/SearchImages.module.css\";\n\nclass SearchImages extends Component {\n  state = {\n    list: [],\n    page: 1,\n    loading: false,\n    error: null,\n    query: \"\",\n    total: 0,\n    largeImageURL: \"\",\n    showModal: false,\n  };\n\n  searchFormSubmit = (query) => {\n    this.setState({\n      query,\n      loading: true,\n      page: 1,\n    });\n  };\n\n  componentDidUpdate(_, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({\n        list: [],\n        isLoading: true,\n      });\n      this.makeGallery();\n      return;\n    }\n  }\n\n  makeGallery = async () => {\n    const { query, page } = this.state;\n\n    try {\n      const data = await fetchImages(query, page);\n      const { hits, total } = data;\n      this.setState(({ list, page }) => ({\n        list: [...list, ...hits],\n        page: page + 1,\n        total,\n        isLoading: false,\n      }));\n      if (page !== 1) {\n        this.scroll();\n      }\n\n      // if (!total) {\n      //   alert(\"There are no pictures\");\n      // }\n    } catch (error) {\n      this.setState({ error, isLoading: false });\n    }\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  showBtnLoadMore = () => {\n    return Math.ceil(this.state.total / 12) !== this.state.page - 1;\n  };\n\n  onPictureOpen = (largeUrl) => {\n    this.setState({ largeImageURL: largeUrl, showModal: true });\n  };\n\n  changeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { list, total, isLoading, showModal, largeImageURL } = this.state;\n    const { searchFormSubmit, makeGallery, onPictureOpen, changeModal } = this;\n\n    return (\n      <>\n        <Searchbar onSubmit={searchFormSubmit} />\n        {!total && <p className={styles.Message}>There are no pictures!</p>}\n        {Boolean(list.length) && (\n          <ImageGallery list={list} onPictureOpen={onPictureOpen} />\n        )}\n        {isLoading && <Loader />}\n        {showModal && (\n          <Modal onClose={changeModal}>\n            <img src={largeImageURL} />\n          </Modal>\n        )}\n        {this.showBtnLoadMore() && total && <Button onClick={makeGallery} />}\n      </>\n    );\n  }\n}\n\nexport default SearchImages;\n\n// async componentDidMount() {\n//   this.setState({ loading: true });\n//   this.fetchImages();\n// }\n\n// async fetchImages() {\n//   const { page, query, list } = this.state;\n//   try {\n//     const { data } = await getImages({ page, query });\n//     console.log(data.hits);\n//     this.setState((prevState) => ({\n//       list: [...list, ...data.hits],\n//       error: null,\n//       loading: false,\n//       page: prevState.page + 1,\n//       total: data.total,\n//     }));\n//   } catch (error) {\n//     this.setState({ error, loading: false });\n//   }\n// }\n\n// async componentDidUpdate() {\n//   const { loading, page } = this.state;\n\n//   if (loading && page > 1) {\n//     this.fetchImages();\n//   }\n// }\n","import './App.css';\nimport SearchImages from './components/SearchImages/SearchImages';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchImages />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__2QH50\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}